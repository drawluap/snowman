<template>
    <div class="snowman">
        <svg viewBox="0 0 800 900" xmlns="http://www.w3.org/2000/svg">
            <g>
                <!-- head -->
                <circle v-if="isVisible('head')" cx="428.5" cy="218" r="109.5" fill="#FFF" :stroke="color" stroke-width="10"></circle>
                <!-- end head -->
                <!-- hat -->
                <path v-if="isVisible('hat')" :fill="color" d="M355.9634,293.1135c0,0,0.042,0.0273,0.1055,0.0686c-19.1035-18.7979-30.9585-44.9404-30.9585-73.8594
                    c0-27.0001,10.3291-51.5854,27.248-70.0283l99.6084-30.9824c46.0459,10.5461,80.3965,51.7661,80.3965,101.0107
                    c0,27.7439-10.9033,52.9408-28.6577,71.5408c0.1191,0.0652,0.2354,0.1355,0.3545,0.2009c0.6523-0.2562,1.2988-0.5029,1.9546-0.7661
                    c5.3887-1.6526,10.479-2.501,15.3213-2.6736c14.5649-19.6892,22.4609-43.4656,22.4609-68.302
                    c0-48.4839-30.1445-90.0574-72.6738-106.969l31.1719-9.696l-6.0332-19.3958l-39.9307,12.4199L432.1689,18
                    c-38.6006,1.5555-74.7983,10.6204-106.6777,33.181l24.1631,77.6823l-39.7808,12.3733l6.0332,19.3958l17.3076-5.3833
                    c-12.332,18.3251-19.5371,40.373-19.5371,64.0737c0,26.4614,8.8267,51.4363,25.0894,71.7263
                    C344.0869,289.5776,349.8838,289.8651,355.9634,293.1135z M344.9917,59.9222l7.9116-2.3978l11.2451,37.0989l-7.9121,2.3977
                    L344.9917,59.9222z"/>
                <!-- end hat -->
                <!-- eyes -->
                <circle v-if="isVisible('eye-one')" cx="399.1633" cy="177.4346" r="14.2165"/>
                <circle v-if="isVisible('eye-two')" cx="463.6113" cy="177.4346" r="14.2165"/>
                <!-- end eyes -->
                <!-- nose -->
                <path v-if="isVisible('nose')" fill="#F07E26" d="M427.619,201.3945c0,0-70.8824,17.7848-70.7149,21.7985s74.8143,11.3732,74.8143,11.3732
                    S449.6187,216.1778,427.619,201.3945z"/>
                <!-- end nose -->
                <!-- mouth -->
                <circle v-if="isVisible('mouth-one')" cx="392.865" cy="251.5671" r="5.7299"/>
                <circle v-if="isVisible('mouth-two')" cx="405.3212" cy="264.0234" r="5.7299"/>
                <circle v-if="isVisible('mouth-three')" cx="424.2927" cy="271.077" r="5.7299"/>
                <circle v-if="isVisible('mouth-four')" cx="440.5435" cy="263.9806" r="5.7299"/>
                <circle v-if="isVisible('mouth-five')" cx="453.8644" cy="252.5437" r="5.7299"/>
                <!-- end mouth -->
                <!-- body bottom only -->
                <circle v-if="isVisible('body-one')" cx="434" cy="647" r="197.65" fill="#FFF" :stroke="color" stroke-width="10"></circle>
                <!-- end body bottom only -->
                <!-- body belly -->
                <path v-if="isVisible('body-two')" :stroke="color" fill="#FFFFFF" d="M530.0215,316.02c0,0,6.313,38.6023-4.1182,55.783s-36.8154-1.8408-36.8154-1.8408
                    s-14.5654-8.5164,5.2339-47.2844c-2.4932,4.2694-24.1421,30.0503-172.562,0.2747c-23.1841,26.1768-37.272,60.5936-37.272,98.3118
                    c0,31.5465,9.8535,60.7878,26.6392,84.8306c-39.4102,34.3256-64.3213,84.8708-64.3213,141.2375
                    c0,103.4069,83.8281,187.2346,187.2349,187.2346s187.2344-83.8278,187.2344-187.2346c0-57.0662-25.5376-108.1606-65.7988-142.5029
                    c16.252-23.8003,25.7617-52.571,25.7617-83.5652c0-26.5498-6.9795-51.4668-19.1943-73.0273
                    C545.4185,333.9271,530.0215,316.02,530.0215,316.02z"/>
                <!-- end body belly -->
                <!-- body combined -->
                <path v-if="isVisible('body-two')" :fill="color" d="M570.3271,502.7969c14.647-24.6261,22.3438-52.6091,22.3438-81.5327c0-20.6133-3.9727-40.63-11.3496-59.1466
                    c-6.0454-3.2081-12.7554-8.266-19.2778-13.8807c12.2148,21.5605,19.1943,46.4775,19.1943,73.0273
                    c0,30.9941-9.5098,59.7649-25.7617,83.5652c40.2612,34.3423,65.7988,85.4368,65.7988,142.5029
                    c0,103.4069-83.8276,187.2346-187.2344,187.2346s-187.2349-83.8278-187.2349-187.2346c0-56.3667,24.9111-106.912,64.3213-141.2375
                    c-16.7856-24.0427-26.6392-53.2841-26.6392-84.8306c0-37.7181,14.0879-72.135,37.272-98.3118
                    c-4.1655-0.8357-8.4092-1.7054-12.7769-2.6304c-5.3633,6.5707-10.2144,13.5696-14.4819,20.9348
                    c-14.0298,24.2097-21.4463,51.8757-21.4463,80.0073c0,29.5135,7.9922,57.9878,23.2002,82.9539
                    c-38.8105,37.3804-60.8828,88.9875-60.8828,143.1145C235.3721,756.8779,324.4941,846,434.0405,846
                    c109.5454,0,198.6675-89.1221,198.6675-198.6675C632.708,592.4202,610.0908,540.2944,570.3271,502.7969z"/>
                <!-- end body  -->
                <!-- buttons -->
                <circle v-if="isVisible('button-one')" cx="428.8416" cy="361.3082" r="15.4323"/>
                <circle v-if="isVisible('button-two')" cx="428.8416" cy="416.1787" r="15.4323"/>
                <circle v-if="isVisible('button-three')" cx="428.8416" cy="471.0493" r="15.4323"/>
                <!-- end buttons -->
                <!-- scarf -->
                <path v-if="isVisible('scarf')" :fill="color" d="M494.3218,322.6777c-19.7993,38.7681-5.2339,47.2844-5.2339,47.2844s26.3843,19.0215,36.8154,1.8408
                    s4.1182-55.783,4.1182-55.783s15.397,17.9071,32.022,32.2168c6.5225,5.6147,13.2324,10.6726,19.2778,13.8807
                    c4.5171,2.3972,8.6621,3.7628,12.0776,3.5494c19.6353-1.2271,9.7871-25.6399,9.7871-25.6399
                    c-26.4912-22.0435-48.168-53.6024-81.8501-52.4023c-4.8423,0.1726-9.9326,1.021-15.3213,2.6736
                    c-0.6558,0.2632-1.3022,0.5099-1.9546,0.7661c-92.7651,36.4722-145.4575,3.7485-147.9912,2.1177
                    c-0.0635-0.0413-0.1055-0.0686-0.1055-0.0686c-6.0796-3.2484-11.8765-3.5359-17.1968-2.0645
                    c-17.6704,4.8867-30.0762,29.2119-30.0762,29.2119c0.0986,0.021,0.1934,0.04,0.2925,0.061
                    c4.3677,0.9249,8.6113,1.7947,12.7769,2.6304C470.1797,352.728,491.8286,326.9471,494.3218,322.6777z"/>
                <!-- end scarf -->
                <!-- arm right -->
                <path v-if="isVisible('arm-one')" fill="#773E23" d="M775.8827,398.3766l-36.0902-22.8739l46.3643-13.4827l-3.1963-10.9914l-47.8118,13.9036l13.569-41.6581
                    l-10.8842-3.5452l-16.0307,49.2159l-158.798,19.3c-4.681,0.5688-8.0456,4.8641-7.4769,9.5451l0,0
                    c0.5693,4.6812,4.8645,8.0454,9.5455,7.4767l165.9344-20.1672c0.6431-0.0782,1.2582-0.2327,1.845-0.4428l36.9019,23.3885
                    L775.8827,398.3766z"/>
                <!-- end arm right -->
                <!-- arm left -->
                <path v-if="isVisible('arm-two')" fill="#773E23" d="M90.6001,416.3666l34.4269-25.3083l-47.1837-10.2532l2.4307-11.1857l48.6567,10.5733l-16.4095-40.6231
                    l10.6138-4.2874l19.3866,47.9932l159.7509,8.303c4.7091,0.2446,8.3618,4.2977,8.1172,9.0068l0,0
                    c-0.2451,4.7093-4.2981,8.3617-9.0071,8.1171l-166.9302-8.6761c-0.6469-0.0337-1.2712-0.1454-1.8711-0.3145l-35.2011,25.8777
                    L90.6001,416.3666z"/>
                <!-- end arm left -->
            </g>
        </svg>
    </div>
</template>
<script>
import rules from '@/config/game-rules'
export default {
    data () {
        return {
            RULES: rules
        }
    },
    methods: {
        isVisible (bodyPart) {
            const { maxGuesses, bodyParts } = this.RULES[this.difficulty]
            const bodyPartThreshold = bodyParts[bodyPart]

            return maxGuesses - this.guessCount > bodyPartThreshold
        }
    },
    props: {
        color: {
            type: String,
            required: true
        },
        difficulty: {
            type: String,
            default: 'easy'
        },
        guessCount: {
            type: Number,
            default: 0
        },
        maxGuesses: {
            type: Number,
            default: 18
        }
    }
}
</script>
<style scoped>
svg {
    width: 100%;
    height: 100%;
    max-height: 40vh;
}
</style>